import{S as e,i as t,s as a,e as s,t as r,a as n,c as o,b as c,d as i,g as l,f as m,m as f,h,j as u,w as d,K as p,v as b,B as v,L as $,E as I,k as g,l as w,q as y,n as E,y as j}from"./client.67bea87c.js";import{L as k}from"./Loader.1d1dc7d7.js";import{w as D}from"./webmidi.min.0a3878e3.js";import{R as M}from"./ReccomendedButton.474406f8.js";import"./_commonjsHelpers.521bc219.js";function x(e){let t,a,p,v,$,I,k,D,x,C;return x=new M({props:{text:"Back to settings"}}),x.$on("click",e[1]),{c(){t=s("h3"),a=r("Failed to setup MIDI"),p=n(),v=s("p"),$=r("See list of compatible browsers "),I=s("a"),k=r("here"),D=n(),g(x.$$.fragment),this.h()},l(e){t=o(e,"H3",{});var s=c(t);a=i(s,"Failed to setup MIDI"),s.forEach(l),p=m(e),v=o(e,"P",{});var r=c(v);$=i(r,"See list of compatible browsers "),I=o(r,"A",{href:!0});var n=c(I);k=i(n,"here"),n.forEach(l),r.forEach(l),D=m(e),w(x.$$.fragment,e),this.h()},h(){f(I,"href","https://caniuse.com/midi")},m(e,s){h(e,t,s),u(t,a),h(e,p,s),h(e,v,s),u(v,$),u(v,I),u(I,k),h(e,D,s),y(x,e,s),C=!0},p:E,i(e){C||(b(x.$$.fragment,e),C=!0)},o(e){d(x.$$.fragment,e),C=!1},d(e){e&&l(t),e&&l(p),e&&l(v),e&&l(D),j(x,e)}}}function C(e){let t,a,f,p,v;return p=new k({props:{text:"Listening for connection"}}),{c(){t=s("h3"),a=r("Connect a MIDI keyboard to your device (usually with a usb cable)"),f=n(),g(p.$$.fragment)},l(e){t=o(e,"H3",{});var s=c(t);a=i(s,"Connect a MIDI keyboard to your device (usually with a usb cable)"),s.forEach(l),f=m(e),w(p.$$.fragment,e)},m(e,s){h(e,t,s),u(t,a),h(e,f,s),y(p,e,s),v=!0},p:E,i(e){v||(b(p.$$.fragment,e),v=!0)},o(e){d(p.$$.fragment,e),v=!1},d(e){e&&l(t),e&&l(f),j(p,e)}}}function H(e){let t,a,v,I,g,w,y,E;const j=[C,x],k=[];function D(e,t){return""===e[0]?0:1}return w=D(e),y=k[w]=j[w](e),{c(){t=s("h2"),a=r("Connect Keyboard"),v=n(),I=s("div"),g=s("div"),y.c(),this.h()},l(e){t=o(e,"H2",{});var s=c(t);a=i(s,"Connect Keyboard"),s.forEach(l),v=m(e),I=o(e,"DIV",{class:!0});var r=c(I);g=o(r,"DIV",{class:!0});var n=c(g);y.l(n),n.forEach(l),r.forEach(l),this.h()},h(){f(g,"class","svelte-nm0sky"),f(I,"class","vert svelte-nm0sky")},m(e,s){h(e,t,s),u(t,a),h(e,v,s),h(e,I,s),u(I,g),k[w].m(g,null),E=!0},p(e,[t]){let a=w;w=D(e),w===a?k[w].p(e,t):($(),d(k[a],1,1,()=>{k[a]=null}),p(),y=k[w],y?y.p(e,t):(y=k[w]=j[w](e),y.c()),b(y,1),y.m(g,null))},i(e){E||(b(y),E=!0)},o(e){d(y),E=!1},d(e){e&&l(t),e&&l(v),e&&l(I),k[w].d()}}}function L(e,t,a){let s="";v(()=>{try{let e=()=>{let e=setInterval(()=>{D.inputs[0]&&(clearInterval(e),I("settings/testMIDI"))},100)};D.enabled?e():D.enable((function(t){if(t)throw new Error("couldn't enable web midi"+t);e()}))}catch(e){a(0,s=e)}});return[s,()=>{I("/settings")}]}export default class extends e{constructor(e){super(),t(this,e,L,H,a,{})}}
