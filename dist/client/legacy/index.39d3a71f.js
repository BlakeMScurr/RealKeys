import{_ as a,a as t,b as n,c as e,i as r,d as o,S as s,s as l,e as c,t as i,f,g as u,h,j as v,k as p,l as m,m as g,n as d,o as E,p as y,q as I,r as x,u as M,v as N,w as P,x as R,y as T,z as $,A as _,B as b,C as D,D as S,E as j,F as H,G as V,H as L,I as O,J as B}from"./client.984d516d.js";import{R as z}from"./ReccomendedButton.c2ffe802.js";import{a as C,N as U}from"./notes.be99bc8d.js";import{a as k,h as w,l as K}from"./level.c4173c69.js";import{g as q}from"./storage.4617e2a9.js";function A(a){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(a){return!1}}();return function(){var r,o=t(a);if(e){var s=t(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return n(this,r)}}function G(a,t,n){var e=a.slice();return e[14]=t[n],e}function J(a,t,n){var e=a.slice();return e[17]=t[n],e}function Y(a){var t,n,e,r=a[17].prettyString()+"";return{c:function(){t=c("option"),n=i(r),e=f(),this.h()},l:function(a){t=u(a,"OPTION",{value:!0});var o=h(t);n=v(o,r),e=p(o),o.forEach(m),this.h()},h:function(){t.__value=a[17],t.value=t.__value},m:function(a,r){g(a,t,r),d(t,n),d(t,e)},p:E,d:function(a){a&&m(t)}}}function F(a){var t,n,e,r=a[14]+"";return{c:function(){t=c("option"),n=i(r),e=f(),this.h()},l:function(a){t=u(a,"OPTION",{value:!0});var o=h(t);n=v(o,r),e=p(o),o.forEach(m),this.h()},h:function(){t.__value=a[14],t.value=t.__value},m:function(a,r){g(a,t,r),d(t,n),d(t,e)},p:E,d:function(a){a&&m(t)}}}function Q(a){for(var t,n,e,r,o,s,l,E,H,V,O,B,U,w,K,q,A,Q,W,X,Z,aa,ta,na,ea,ra,oa,sa,la,ca,ia,fa,ua,ha,va,pa,ma,ga,da=C(),Ea=[],ya=0;ya<da.length;ya+=1)Ea[ya]=Y(J(a,da,ya));for(var Ia=k(),xa=[],Ma=0;Ma<Ia.length;Ma+=1)xa[Ma]=F(G(a,Ia,Ma));return(va=new z({props:{text:"Go"}})).$on("click",a[12]),{c:function(){t=c("base"),n=f(),e=c("h2"),r=i("Train Your Ear"),o=f(),s=c("div"),l=c("div"),E=c("h3"),H=i("Key"),V=f(),O=c("div"),B=c("select");for(var a=0;a<Ea.length;a+=1)Ea[a].c();U=f(),w=c("select");for(var u=0;u<xa.length;u+=1)xa[u].c();K=f(),q=c("div"),A=c("h3"),Q=i("Phrase Length"),W=f(),X=c("input"),Z=f(),aa=c("div"),ta=c("h3"),na=i("Note pool size"),ea=f(),ra=c("input"),oa=f(),sa=c("div"),la=c("h3"),ca=i("Max interval"),ia=f(),fa=c("input"),ua=f(),ha=c("div"),y(va.$$.fragment),this.h()},l:function(a){t=u(a,"BASE",{href:!0}),n=p(a),e=u(a,"H2",{});var c=h(e);r=v(c,"Train Your Ear"),c.forEach(m),o=p(a),s=u(a,"DIV",{class:!0});var i=h(s);l=u(i,"DIV",{class:!0});var f=h(l);E=u(f,"H3",{});var g=h(E);H=v(g,"Key"),g.forEach(m),V=p(f),O=u(f,"DIV",{class:!0});var d=h(O);B=u(d,"SELECT",{});for(var y=h(B),x=0;x<Ea.length;x+=1)Ea[x].l(y);y.forEach(m),U=p(d),w=u(d,"SELECT",{});for(var M=h(w),N=0;N<xa.length;N+=1)xa[N].l(M);M.forEach(m),d.forEach(m),f.forEach(m),K=p(i),q=u(i,"DIV",{class:!0});var P=h(q);A=u(P,"H3",{});var R=h(A);Q=v(R,"Phrase Length"),R.forEach(m),W=p(P),X=u(P,"INPUT",{type:!0,min:!0,step:!0}),P.forEach(m),Z=p(i),aa=u(i,"DIV",{class:!0});var T=h(aa);ta=u(T,"H3",{});var $=h(ta);na=v($,"Note pool size"),$.forEach(m),ea=p(T),ra=u(T,"INPUT",{type:!0,min:!0,step:!0}),T.forEach(m),oa=p(i),sa=u(i,"DIV",{class:!0});var _=h(sa);la=u(_,"H3",{});var b=h(la);ca=v(b,"Max interval"),b.forEach(m),ia=p(_),fa=u(_,"INPUT",{type:!0,min:!0,step:!0,max:!0}),_.forEach(m),ua=p(i),ha=u(i,"DIV",{class:!0});var D=h(ha);I(va.$$.fragment,D),D.forEach(m),i.forEach(m),this.h()},h:function(){x(t,"href","/RealKeys"),void 0===a[0]&&L((function(){return a[7].call(B)})),void 0===a[1]&&L((function(){return a[8].call(w)})),x(O,"class","svelte-1ulh42n"),x(l,"class","svelte-1ulh42n"),x(X,"type","number"),x(X,"min","2"),x(X,"step","1"),x(q,"class","svelte-1ulh42n"),x(ra,"type","number"),x(ra,"min","2"),x(ra,"step","1"),x(aa,"class","svelte-1ulh42n"),x(fa,"type","number"),x(fa,"min","2"),x(fa,"step","1"),x(fa,"max",a[3]),x(sa,"class","svelte-1ulh42n"),x(ha,"class","btnHolder svelte-1ulh42n"),x(s,"class","svelte-1ulh42n")},m:function(c,i){g(c,t,i),g(c,n,i),g(c,e,i),d(e,r),g(c,o,i),g(c,s,i),d(s,l),d(l,E),d(E,H),d(l,V),d(l,O),d(O,B);for(var f=0;f<Ea.length;f+=1)Ea[f].m(B,null);M(B,a[0]),d(O,U),d(O,w);for(var u=0;u<xa.length;u+=1)xa[u].m(w,null);M(w,a[1]),d(s,K),d(s,q),d(q,A),d(A,Q),d(q,W),d(q,X),N(X,a[2]),d(s,Z),d(s,aa),d(aa,ta),d(ta,na),d(aa,ea),d(aa,ra),N(ra,a[3]),d(s,oa),d(s,sa),d(sa,la),d(la,ca),d(sa,ia),d(sa,fa),N(fa,a[4]),d(s,ua),d(s,ha),P(va,ha,null),pa=!0,ma||(ga=[R(B,"change",a[7]),R(w,"change",a[8]),R(X,"input",a[9]),R(X,"change",a[6]),R(ra,"input",a[10]),R(ra,"change",a[6]),R(fa,"input",a[11]),R(fa,"change",a[6])],ma=!0)},p:function(a,t){var n=T(t,1)[0];if(0&n){var e;for(da=C(),e=0;e<da.length;e+=1){var r=J(a,da,e);Ea[e]?Ea[e].p(r,n):(Ea[e]=Y(r),Ea[e].c(),Ea[e].m(B,null))}for(;e<Ea.length;e+=1)Ea[e].d(1);Ea.length=da.length}if(1&n&&M(B,a[0]),0&n){var o;for(Ia=k(),o=0;o<Ia.length;o+=1){var s=G(a,Ia,o);xa[o]?xa[o].p(s,n):(xa[o]=F(s),xa[o].c(),xa[o].m(w,null))}for(;o<xa.length;o+=1)xa[o].d(1);xa.length=Ia.length}2&n&&M(w,a[1]),4&n&&$(X.value)!==a[2]&&N(X,a[2]),8&n&&$(ra.value)!==a[3]&&N(ra,a[3]),(!pa||8&n)&&x(fa,"max",a[3]),16&n&&$(fa.value)!==a[4]&&N(fa,a[4])},i:function(a){pa||(_(va.$$.fragment,a),pa=!0)},o:function(a){b(va.$$.fragment,a),pa=!1},d:function(a){a&&m(t),a&&m(n),a&&m(e),a&&m(o),a&&m(s),D(Ea,a),D(xa,a),S(va),ma=!1,j(ga)}}}function W(a,t,n){var e=H(),r=e.session;e.page;var o=U("C"),s="Major",l=4,c=2,i=2;V((function(){var a=localStorage.getItem(w);if(a){var t=JSON.parse(a),e=t.levels[t.levels.length-1];n(0,o=U(e.key)),n(1,s=e.tonality),n(2,l=e.phraseLength),n(3,c=e.notePoolSize),n(4,i=e.maxInterval)}}));return[o,s,l,c,i,r,function(){i>c&&n(4,i=c),l<2&&n(2,l=2),c<2&&n(3,c=2),i<2&&n(4,i=2),Math.floor(l)!==l&&n(2,l=Math.floor(l)),Math.floor(c)!==c&&n(3,c=Math.floor(c)),Math.floor(i)!==i&&n(4,i=Math.floor(i))},function(){o=O(this),n(0,o)},function(){s=O(this),n(1,s)},function(){l=$(this.value),n(2,l)},function(){c=$(this.value),n(3,c)},function(){i=$(this.value),n(4,i)},function(){var a=new K(o.enharmonicEquivalent(),s,l,c,i).playURL();q()?B(a):(r.set({redirect:a}),B("/settings"))}]}var X=function(t){a(c,s);var n=A(c);function c(a){var t;return e(this,c),t=n.call(this),r(o(t),a,W,Q,l,{}),t}return c}();export default X;
