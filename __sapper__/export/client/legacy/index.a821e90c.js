import{_ as a,a as t,b as n,c as e,i as r,d as o,S as s,s as l,e as c,t as i,f as u,g as f,h,j as v,k as p,l as m,m as g,n as E,o as d,p as y,q as I,r as x,u as M,v as N,w as P,x as T,y as $,z as _,A as D,B as R,C as b,D as j,E as H,F as S,G as V,H as L,I as O,J as z}from"./client.f90066e1.js";import{R as B}from"./ReccomendedButton.a619a686.js";import{a as C,N as U}from"./notes.be99bc8d.js";import{a as k,h as w,l as q}from"./level.c4173c69.js";import{g as G}from"./storage.4617e2a9.js";function J(a){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(a){return!1}}();return function(){var r,o=t(a);if(e){var s=t(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return n(this,r)}}function K(a,t,n){var e=a.slice();return e[14]=t[n],e}function Y(a,t,n){var e=a.slice();return e[17]=t[n],e}function A(a){var t,n,e,r=a[17].prettyString()+"";return{c:function(){t=c("option"),n=i(r),e=u(),this.h()},l:function(a){t=f(a,"OPTION",{value:!0});var o=h(t);n=v(o,r),e=p(o),o.forEach(m),this.h()},h:function(){t.__value=a[17],t.value=t.__value},m:function(a,r){g(a,t,r),E(t,n),E(t,e)},p:d,d:function(a){a&&m(t)}}}function F(a){var t,n,e,r=a[14]+"";return{c:function(){t=c("option"),n=i(r),e=u(),this.h()},l:function(a){t=f(a,"OPTION",{value:!0});var o=h(t);n=v(o,r),e=p(o),o.forEach(m),this.h()},h:function(){t.__value=a[14],t.value=t.__value},m:function(a,r){g(a,t,r),E(t,n),E(t,e)},p:d,d:function(a){a&&m(t)}}}function Q(a){for(var t,n,e,r,o,s,l,d,S,V,O,z,U,w,q,G,J,Q,W,X,Z,aa,ta,na,ea,ra,oa,sa,la,ca,ia,ua,fa,ha,va,pa,ma=C(),ga=[],Ea=0;Ea<ma.length;Ea+=1)ga[Ea]=A(Y(a,ma,Ea));for(var da=k(),ya=[],Ia=0;Ia<da.length;Ia+=1)ya[Ia]=F(K(a,da,Ia));return(fa=new B({props:{text:"Go"}})).$on("click",a[12]),{c:function(){t=c("h2"),n=i("Train Your Ear"),e=u(),r=c("div"),o=c("div"),s=c("h3"),l=i("Key"),d=u(),S=c("div"),V=c("select");for(var a=0;a<ga.length;a+=1)ga[a].c();O=u(),z=c("select");for(var f=0;f<ya.length;f+=1)ya[f].c();U=u(),w=c("div"),q=c("h3"),G=i("Phrase Length"),J=u(),Q=c("input"),W=u(),X=c("div"),Z=c("h3"),aa=i("Note pool size"),ta=u(),na=c("input"),ea=u(),ra=c("div"),oa=c("h3"),sa=i("Max interval"),la=u(),ca=c("input"),ia=u(),ua=c("div"),y(fa.$$.fragment),this.h()},l:function(a){t=f(a,"H2",{});var c=h(t);n=v(c,"Train Your Ear"),c.forEach(m),e=p(a),r=f(a,"DIV",{class:!0});var i=h(r);o=f(i,"DIV",{class:!0});var u=h(o);s=f(u,"H3",{});var g=h(s);l=v(g,"Key"),g.forEach(m),d=p(u),S=f(u,"DIV",{class:!0});var E=h(S);V=f(E,"SELECT",{});for(var y=h(V),x=0;x<ga.length;x+=1)ga[x].l(y);y.forEach(m),O=p(E),z=f(E,"SELECT",{});for(var M=h(z),N=0;N<ya.length;N+=1)ya[N].l(M);M.forEach(m),E.forEach(m),u.forEach(m),U=p(i),w=f(i,"DIV",{class:!0});var P=h(w);q=f(P,"H3",{});var T=h(q);G=v(T,"Phrase Length"),T.forEach(m),J=p(P),Q=f(P,"INPUT",{type:!0,min:!0,step:!0}),P.forEach(m),W=p(i),X=f(i,"DIV",{class:!0});var $=h(X);Z=f($,"H3",{});var _=h(Z);aa=v(_,"Note pool size"),_.forEach(m),ta=p($),na=f($,"INPUT",{type:!0,min:!0,step:!0}),$.forEach(m),ea=p(i),ra=f(i,"DIV",{class:!0});var D=h(ra);oa=f(D,"H3",{});var R=h(oa);sa=v(R,"Max interval"),R.forEach(m),la=p(D),ca=f(D,"INPUT",{type:!0,min:!0,step:!0,max:!0}),D.forEach(m),ia=p(i),ua=f(i,"DIV",{class:!0});var b=h(ua);I(fa.$$.fragment,b),b.forEach(m),i.forEach(m),this.h()},h:function(){void 0===a[0]&&L((function(){return a[7].call(V)})),void 0===a[1]&&L((function(){return a[8].call(z)})),x(S,"class","svelte-1ulh42n"),x(o,"class","svelte-1ulh42n"),x(Q,"type","number"),x(Q,"min","2"),x(Q,"step","1"),x(w,"class","svelte-1ulh42n"),x(na,"type","number"),x(na,"min","2"),x(na,"step","1"),x(X,"class","svelte-1ulh42n"),x(ca,"type","number"),x(ca,"min","2"),x(ca,"step","1"),x(ca,"max",a[3]),x(ra,"class","svelte-1ulh42n"),x(ua,"class","btnHolder svelte-1ulh42n"),x(r,"class","svelte-1ulh42n")},m:function(c,i){g(c,t,i),E(t,n),g(c,e,i),g(c,r,i),E(r,o),E(o,s),E(s,l),E(o,d),E(o,S),E(S,V);for(var u=0;u<ga.length;u+=1)ga[u].m(V,null);M(V,a[0]),E(S,O),E(S,z);for(var f=0;f<ya.length;f+=1)ya[f].m(z,null);M(z,a[1]),E(r,U),E(r,w),E(w,q),E(q,G),E(w,J),E(w,Q),N(Q,a[2]),E(r,W),E(r,X),E(X,Z),E(Z,aa),E(X,ta),E(X,na),N(na,a[3]),E(r,ea),E(r,ra),E(ra,oa),E(oa,sa),E(ra,la),E(ra,ca),N(ca,a[4]),E(r,ia),E(r,ua),P(fa,ua,null),ha=!0,va||(pa=[T(V,"change",a[7]),T(z,"change",a[8]),T(Q,"input",a[9]),T(Q,"change",a[6]),T(na,"input",a[10]),T(na,"change",a[6]),T(ca,"input",a[11]),T(ca,"change",a[6])],va=!0)},p:function(a,t){var n=$(t,1)[0];if(0&n){var e;for(ma=C(),e=0;e<ma.length;e+=1){var r=Y(a,ma,e);ga[e]?ga[e].p(r,n):(ga[e]=A(r),ga[e].c(),ga[e].m(V,null))}for(;e<ga.length;e+=1)ga[e].d(1);ga.length=ma.length}if(1&n&&M(V,a[0]),0&n){var o;for(da=k(),o=0;o<da.length;o+=1){var s=K(a,da,o);ya[o]?ya[o].p(s,n):(ya[o]=F(s),ya[o].c(),ya[o].m(z,null))}for(;o<ya.length;o+=1)ya[o].d(1);ya.length=da.length}2&n&&M(z,a[1]),4&n&&_(Q.value)!==a[2]&&N(Q,a[2]),8&n&&_(na.value)!==a[3]&&N(na,a[3]),(!ha||8&n)&&x(ca,"max",a[3]),16&n&&_(ca.value)!==a[4]&&N(ca,a[4])},i:function(a){ha||(D(fa.$$.fragment,a),ha=!0)},o:function(a){R(fa.$$.fragment,a),ha=!1},d:function(a){a&&m(t),a&&m(e),a&&m(r),b(ga,a),b(ya,a),j(fa),va=!1,H(pa)}}}function W(a,t,n){var e=S(),r=e.session;e.page;var o=U("C"),s="Major",l=4,c=2,i=2;V((function(){var a=localStorage.getItem(w);if(a){var t=JSON.parse(a),e=t.levels[t.levels.length-1];n(0,o=U(e.key)),n(1,s=e.tonality),n(2,l=e.phraseLength),n(3,c=e.notePoolSize),n(4,i=e.maxInterval)}}));return[o,s,l,c,i,r,function(){i>c&&n(4,i=c),l<2&&n(2,l=2),c<2&&n(3,c=2),i<2&&n(4,i=2),Math.floor(l)!==l&&n(2,l=Math.floor(l)),Math.floor(c)!==c&&n(3,c=Math.floor(c)),Math.floor(i)!==i&&n(4,i=Math.floor(i))},function(){o=O(this),n(0,o)},function(){s=O(this),n(1,s)},function(){l=_(this.value),n(2,l)},function(){c=_(this.value),n(3,c)},function(){i=_(this.value),n(4,i)},function(){var a=new q(o.enharmonicEquivalent(),s,l,c,i).playURL();G()?z(a):(r.set({redirect:a}),z("/settings"))}]}var X=function(t){a(c,s);var n=J(c);function c(a){var t;return e(this,c),t=n.call(this),r(o(t),a,W,Q,l,{}),t}return c}();export default X;
