import{_ as t,a as n,b as a,c as e,i as r,d as o,S as s,s as l,e as c,t as i,f as u,g as f,h,j as v,k as p,l as m,m as g,n as E,o as d,p as y,q as I,r as x,u as M,v as N,w as P,x as T,y as $,z as _,A as D,B as R,C as b,D as j,E as H,F as S,G as V,H as L,I as O,J as z}from"./client.045c4365.js";import{R as B}from"./ReccomendedButton.e0f43922.js";import{a as C,N as U}from"./notes.be99bc8d.js";import{a as k,h as w,l as q}from"./level.c4173c69.js";import{g as G}from"./storage.4617e2a9.js";function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=n(t);if(e){var s=n(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return a(this,r)}}function K(t,n,a){var e=t.slice();return e[14]=n[a],e}function Y(t,n,a){var e=t.slice();return e[17]=n[a],e}function A(t){var n,a,e,r=t[17].prettyString()+"";return{c:function(){n=c("option"),a=i(r),e=u(),this.h()},l:function(t){n=f(t,"OPTION",{value:!0});var o=h(n);a=v(o,r),e=p(o),o.forEach(m),this.h()},h:function(){n.__value=t[17],n.value=n.__value},m:function(t,r){g(t,n,r),E(n,a),E(n,e)},p:d,d:function(t){t&&m(n)}}}function F(t){var n,a,e,r=t[14]+"";return{c:function(){n=c("option"),a=i(r),e=u(),this.h()},l:function(t){n=f(t,"OPTION",{value:!0});var o=h(n);a=v(o,r),e=p(o),o.forEach(m),this.h()},h:function(){n.__value=t[14],n.value=n.__value},m:function(t,r){g(t,n,r),E(n,a),E(n,e)},p:d,d:function(t){t&&m(n)}}}function Q(t){for(var n,a,e,r,o,s,l,d,S,V,O,z,U,w,q,G,J,Q,W,X,Z,tt,nt,at,et,rt,ot,st,lt,ct,it,ut,ft,ht,vt,pt,mt=C(),gt=[],Et=0;Et<mt.length;Et+=1)gt[Et]=A(Y(t,mt,Et));for(var dt=k(),yt=[],It=0;It<dt.length;It+=1)yt[It]=F(K(t,dt,It));return(ft=new B({props:{text:"Go"}})).$on("click",t[12]),{c:function(){n=c("h2"),a=i("Train Your Ear"),e=u(),r=c("div"),o=c("div"),s=c("h3"),l=i("Key"),d=u(),S=c("div"),V=c("select");for(var t=0;t<gt.length;t+=1)gt[t].c();O=u(),z=c("select");for(var f=0;f<yt.length;f+=1)yt[f].c();U=u(),w=c("div"),q=c("h3"),G=i("Phrase Length"),J=u(),Q=c("input"),W=u(),X=c("div"),Z=c("h3"),tt=i("Note pool size"),nt=u(),at=c("input"),et=u(),rt=c("div"),ot=c("h3"),st=i("Max interval"),lt=u(),ct=c("input"),it=u(),ut=c("div"),y(ft.$$.fragment),this.h()},l:function(t){n=f(t,"H2",{});var c=h(n);a=v(c,"Train Your Ear"),c.forEach(m),e=p(t),r=f(t,"DIV",{class:!0});var i=h(r);o=f(i,"DIV",{class:!0});var u=h(o);s=f(u,"H3",{});var g=h(s);l=v(g,"Key"),g.forEach(m),d=p(u),S=f(u,"DIV",{class:!0});var E=h(S);V=f(E,"SELECT",{});for(var y=h(V),x=0;x<gt.length;x+=1)gt[x].l(y);y.forEach(m),O=p(E),z=f(E,"SELECT",{});for(var M=h(z),N=0;N<yt.length;N+=1)yt[N].l(M);M.forEach(m),E.forEach(m),u.forEach(m),U=p(i),w=f(i,"DIV",{class:!0});var P=h(w);q=f(P,"H3",{});var T=h(q);G=v(T,"Phrase Length"),T.forEach(m),J=p(P),Q=f(P,"INPUT",{type:!0,min:!0,step:!0}),P.forEach(m),W=p(i),X=f(i,"DIV",{class:!0});var $=h(X);Z=f($,"H3",{});var _=h(Z);tt=v(_,"Note pool size"),_.forEach(m),nt=p($),at=f($,"INPUT",{type:!0,min:!0,step:!0}),$.forEach(m),et=p(i),rt=f(i,"DIV",{class:!0});var D=h(rt);ot=f(D,"H3",{});var R=h(ot);st=v(R,"Max interval"),R.forEach(m),lt=p(D),ct=f(D,"INPUT",{type:!0,min:!0,step:!0,max:!0}),D.forEach(m),it=p(i),ut=f(i,"DIV",{class:!0});var b=h(ut);I(ft.$$.fragment,b),b.forEach(m),i.forEach(m),this.h()},h:function(){void 0===t[0]&&L((function(){return t[7].call(V)})),void 0===t[1]&&L((function(){return t[8].call(z)})),x(S,"class","svelte-1ulh42n"),x(o,"class","svelte-1ulh42n"),x(Q,"type","number"),x(Q,"min","2"),x(Q,"step","1"),x(w,"class","svelte-1ulh42n"),x(at,"type","number"),x(at,"min","2"),x(at,"step","1"),x(X,"class","svelte-1ulh42n"),x(ct,"type","number"),x(ct,"min","2"),x(ct,"step","1"),x(ct,"max",t[3]),x(rt,"class","svelte-1ulh42n"),x(ut,"class","btnHolder svelte-1ulh42n"),x(r,"class","svelte-1ulh42n")},m:function(c,i){g(c,n,i),E(n,a),g(c,e,i),g(c,r,i),E(r,o),E(o,s),E(s,l),E(o,d),E(o,S),E(S,V);for(var u=0;u<gt.length;u+=1)gt[u].m(V,null);M(V,t[0]),E(S,O),E(S,z);for(var f=0;f<yt.length;f+=1)yt[f].m(z,null);M(z,t[1]),E(r,U),E(r,w),E(w,q),E(q,G),E(w,J),E(w,Q),N(Q,t[2]),E(r,W),E(r,X),E(X,Z),E(Z,tt),E(X,nt),E(X,at),N(at,t[3]),E(r,et),E(r,rt),E(rt,ot),E(ot,st),E(rt,lt),E(rt,ct),N(ct,t[4]),E(r,it),E(r,ut),P(ft,ut,null),ht=!0,vt||(pt=[T(V,"change",t[7]),T(z,"change",t[8]),T(Q,"input",t[9]),T(Q,"change",t[6]),T(at,"input",t[10]),T(at,"change",t[6]),T(ct,"input",t[11]),T(ct,"change",t[6])],vt=!0)},p:function(t,n){var a=$(n,1)[0];if(0&a){var e;for(mt=C(),e=0;e<mt.length;e+=1){var r=Y(t,mt,e);gt[e]?gt[e].p(r,a):(gt[e]=A(r),gt[e].c(),gt[e].m(V,null))}for(;e<gt.length;e+=1)gt[e].d(1);gt.length=mt.length}if(1&a&&M(V,t[0]),0&a){var o;for(dt=k(),o=0;o<dt.length;o+=1){var s=K(t,dt,o);yt[o]?yt[o].p(s,a):(yt[o]=F(s),yt[o].c(),yt[o].m(z,null))}for(;o<yt.length;o+=1)yt[o].d(1);yt.length=dt.length}2&a&&M(z,t[1]),4&a&&_(Q.value)!==t[2]&&N(Q,t[2]),8&a&&_(at.value)!==t[3]&&N(at,t[3]),(!ht||8&a)&&x(ct,"max",t[3]),16&a&&_(ct.value)!==t[4]&&N(ct,t[4])},i:function(t){ht||(D(ft.$$.fragment,t),ht=!0)},o:function(t){R(ft.$$.fragment,t),ht=!1},d:function(t){t&&m(n),t&&m(e),t&&m(r),b(gt,t),b(yt,t),j(ft),vt=!1,H(pt)}}}function W(t,n,a){var e=S(),r=e.session;e.page;var o=U("C"),s="Major",l=4,c=2,i=2;V((function(){var t=localStorage.getItem(w);if(t){var n=JSON.parse(t),e=n.levels[n.levels.length-1];a(0,o=U(e.key)),a(1,s=e.tonality),a(2,l=e.phraseLength),a(3,c=e.notePoolSize),a(4,i=e.maxInterval)}}));return[o,s,l,c,i,r,function(){i>c&&a(4,i=c),l<2&&a(2,l=2),c<2&&a(3,c=2),i<2&&a(4,i=2),Math.floor(l)!==l&&a(2,l=Math.floor(l)),Math.floor(c)!==c&&a(3,c=Math.floor(c)),Math.floor(i)!==i&&a(4,i=Math.floor(i))},function(){o=O(this),a(0,o)},function(){s=O(this),a(1,s)},function(){l=_(this.value),a(2,l)},function(){c=_(this.value),a(3,c)},function(){i=_(this.value),a(4,i)},function(){var t=new q(o.enharmonicEquivalent(),s,l,c,i).playURL();G()?z(t):(r.set({redirect:t}),z("/settings"))}]}var X=function(n){t(c,s);var a=J(c);function c(t){var n;return e(this,c),n=a.call(this),r(o(n),t,W,Q,l,{}),n}return c}();export default X;
