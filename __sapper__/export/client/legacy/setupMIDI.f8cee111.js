import{_ as n,a as t,b as e,c as a,i as r,d as o,S as c,s,e as i,t as f,f as u,g as l,h,j as m,l as v,k as p,r as d,m as b,n as y,y as $,B as I,P as g,A as w,G as D,Q as E,J as k,p as R,q as j,w as B,o as M,D as x}from"./client.045c4365.js";import{L as C}from"./Loader.298bb940.js";import{w as H}from"./webmidi.min.1e9ba08f.js";import{R as L}from"./ReccomendedButton.e0f43922.js";function P(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,o=t(n);if(a){var c=t(this).constructor;r=Reflect.construct(o,arguments,c)}else r=o.apply(this,arguments);return e(this,r)}}function S(n){var t,e,a,r,o,c,s,$,g,D;return(g=new L({props:{text:"Back to settings"}})).$on("click",n[1]),{c:function(){t=i("h3"),e=f("Failed to setup MIDI"),a=u(),r=i("p"),o=f("See list of compatible browsers "),c=i("a"),s=f("here"),$=u(),R(g.$$.fragment),this.h()},l:function(n){t=l(n,"H3",{});var i=h(t);e=m(i,"Failed to setup MIDI"),i.forEach(v),a=p(n),r=l(n,"P",{});var f=h(r);o=m(f,"See list of compatible browsers "),c=l(f,"A",{href:!0});var u=h(c);s=m(u,"here"),u.forEach(v),f.forEach(v),$=p(n),j(g.$$.fragment,n),this.h()},h:function(){d(c,"href","https://caniuse.com/midi")},m:function(n,i){b(n,t,i),y(t,e),b(n,a,i),b(n,r,i),y(r,o),y(r,c),y(c,s),b(n,$,i),B(g,n,i),D=!0},p:M,i:function(n){D||(w(g.$$.fragment,n),D=!0)},o:function(n){I(g.$$.fragment,n),D=!1},d:function(n){n&&v(t),n&&v(a),n&&v(r),n&&v($),x(g,n)}}}function A(n){var t,e,a,r,o;return r=new C({props:{text:"Listening for connection"}}),{c:function(){t=i("h3"),e=f("Connect a MIDI keyboard to your device (usually with a usb cable)"),a=u(),R(r.$$.fragment)},l:function(n){t=l(n,"H3",{});var o=h(t);e=m(o,"Connect a MIDI keyboard to your device (usually with a usb cable)"),o.forEach(v),a=p(n),j(r.$$.fragment,n)},m:function(n,c){b(n,t,c),y(t,e),b(n,a,c),B(r,n,c),o=!0},p:M,i:function(n){o||(w(r.$$.fragment,n),o=!0)},o:function(n){I(r.$$.fragment,n),o=!1},d:function(n){n&&v(t),n&&v(a),x(r,n)}}}function F(n){var t,e,a,r,o,c,s,D,k=[A,S],R=[];function j(n,t){return""===n[0]?0:1}return c=j(n),s=R[c]=k[c](n),{c:function(){t=i("h2"),e=f("Connect Keyboard"),a=u(),r=i("div"),o=i("div"),s.c(),this.h()},l:function(n){t=l(n,"H2",{});var c=h(t);e=m(c,"Connect Keyboard"),c.forEach(v),a=p(n),r=l(n,"DIV",{class:!0});var i=h(r);o=l(i,"DIV",{class:!0});var f=h(o);s.l(f),f.forEach(v),i.forEach(v),this.h()},h:function(){d(o,"class","svelte-nm0sky"),d(r,"class","vert svelte-nm0sky")},m:function(n,s){b(n,t,s),y(t,e),b(n,a,s),b(n,r,s),y(r,o),R[c].m(o,null),D=!0},p:function(n,t){var e=$(t,1)[0],a=c;(c=j(n))===a?R[c].p(n,e):(E(),I(R[a],1,1,(function(){R[a]=null})),g(),(s=R[c])?s.p(n,e):(s=R[c]=k[c](n)).c(),w(s,1),s.m(o,null))},i:function(n){D||(w(s),D=!0)},o:function(n){I(s),D=!1},d:function(n){n&&v(t),n&&v(a),n&&v(r),R[c].d()}}}function K(n,t,e){var a="";D((function(){try{var n=function(){var n=setInterval((function(){H.inputs[0]&&(clearInterval(n),k("settings/testMIDI"))}),100)};H.enabled?n():H.enable((function(t){if(t)throw new Error("couldn't enable web midi"+t);n()}))}catch(n){e(0,a=n)}}));return[a,function(){k("/settings")}]}var V=function(t){n(i,c);var e=P(i);function i(n){var t;return a(this,i),t=e.call(this),r(o(t),n,K,F,s,{}),t}return i}();export default V;
